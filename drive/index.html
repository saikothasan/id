<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>UniCard Drive - UK International Drivers License Generator</title>
    <meta name="description" content="Generate realistic UK International Drivers License replicas for projects. Auto-generates driver numbers.">
    <meta name="author" content="DrKingBD">
    <link rel="canonical" href="https://kingcc.web.app/drive-international">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Montserrat:wght@700;900&family=Libre+Barcode+39+Text&display=swap');

        body { font-family: 'Roboto', sans-serif; }

        /* --- Card Styling --- */
        .uk-int-card {
            width: 520px; /* Slightly wider to accommodate more elements */
            height: 330px;
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            background: linear-gradient(135deg, #e0f2fe, #fef0f6, #f3e8ff); /* Softer, multi-tone gradient */
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
            border: 1px solid rgba(255,255,255,0.8);
        }

        /* Complex Background Pattern (Guilloche & Swirls) */
        .uk-int-pattern {
            position: absolute;
            inset: 0;
            background: 
                radial-gradient(circle at 75% 25%, rgba(126, 34, 206, 0.15) 0%, transparent 60%), /* Purple radial */
                radial-gradient(circle at 25% 75%, rgba(219, 39, 119, 0.1) 0%, transparent 60%), /* Pink radial */
                repeating-linear-gradient(45deg, transparent, transparent 8px, rgba(126, 34, 206, 0.03) 8px, rgba(126, 34, 206, 0.03) 9px), /* Purple lines */
                repeating-linear-gradient(-45deg, transparent, transparent 8px, rgba(219, 39, 119, 0.03) 8px, rgba(219, 39, 119, 0.03) 9px); /* Pink lines */
            z-index: 0;
            opacity: 0.8;
        }

        /* Background Wavy Elements (More pronounced) */
        .uk-int-wavy-left, .uk-int-wavy-right {
            position: absolute;
            background: linear-gradient(90deg, rgba(200, 230, 250, 0.3), rgba(200, 230, 250, 0.05));
            height: 100%;
            width: 150px;
            clip-path: ellipse(60% 70% at 0% 50%);
            opacity: 0.4;
            z-index: 0;
        }
        .uk-int-wavy-left { left: 0; transform: translateX(-50%); }
        .uk-int-wavy-right { right: 0; transform: translateX(50%) rotate(180deg); }

        /* Subtle UK Logo Watermark */
        .uk-logo-watermark {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200px;
            opacity: 0.03; /* Very subtle */
            pointer-events: none;
            filter: grayscale(100%);
            z-index: 0;
        }

        /* Header Blue Box (UK & DRIVERS LICENSE) */
        .uk-header-box {
            background: linear-gradient(to bottom, #003399, #002266);
            color: #ffffff;
            font-family: 'Montserrat', sans-serif;
            font-weight: 900;
        }
        .uk-header-text {
            font-size: 26px; /* Larger text */
            line-height: 1;
        }
        .international-text {
            font-size: 11px;
            letter-spacing: 0.1em;
            color: #fca311; /* Gold color for INTERNATIONAL */
            margin-left: 2px;
            display: block;
            margin-top: 2px;
            font-weight: 700;
        }

        /* Numbered Labels & Field Values */
        .label-num {
            color: #0055aa; /* UK Licence Blue for numbers */
            font-weight: 700;
            font-size: 10px;
            margin-right: 4px;
            width: 18px; /* Fixed width for alignment */
            text-align: right;
            flex-shrink: 0;
        }
        .field-val {
            font-weight: 500; /* Slightly lighter than previous */
            color: #1f2937;
            font-size: 13px; /* Slightly larger text */
            text-transform: uppercase;
            letter-spacing: 0.01em;
        }
        .field-val.small {
            font-size: 11px;
        }

        /* Photo & Signature */
        .photo-box {
            border: 1px solid rgba(255,255,255,0.7); /* Subtle white border */
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            mix-blend-mode: normal; /* Keep color */
        }
        .sig-img {
            mix-blend-mode: multiply;
            filter: brightness(0.7) contrast(1.2); /* Darken and enhance */
        }

        /* Union Jack */
        .union-jack {
            background-image: url('https://upload.wikimedia.org/wikipedia/en/thumb/a/ae/Flag_of_the_United_Kingdom.svg/1200px-Flag_of_the_United_Kingdom.svg.png');
            background-size: cover;
            background-position: center;
            border: 0.5px solid rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col">

    <nav class="bg-blue-900 text-white shadow-md sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <a href="/" class="font-bold text-xl flex items-center gap-2">
                    <span class="bg-white text-blue-900 px-2 py-1 rounded">Uni</span>Drive
                </a>
                <div class="hidden md:flex space-x-6 items-center">
                    <a href="/" class="hover:text-blue-300 transition">Home</a>
                    <a href="/nid" class="hover:text-blue-300 transition">NID Maker</a>
                    <a href="/drive" class="text-blue-300 font-bold border-b-2 border-blue-300">Driving License</a>
                    <a href="/cc-gen" class="hover:text-blue-300 transition">CC Gen</a>
                    <a href="/signature" class="hover:text-blue-300 transition">Signature</a>
                </div>
                <a href="https://t.me/drkingbd" target="_blank" class="bg-blue-500 hover:bg-blue-600 text-white text-sm font-bold py-2 px-4 rounded-full transition flex items-center gap-2">
                    Telegram
                </a>
            </div>
             <div class="md:hidden flex space-x-4 overflow-x-auto pb-3 text-sm whitespace-nowrap px-4">
                <a href="/" class="hover:text-blue-300">Home</a>
                <a href="/nid" class="hover:text-blue-300">NID Maker</a>
                <a href="/drive" class="font-bold text-blue-300">Driving License</a>
            </div>
        </div>
    </nav>

    <div class="flex-grow p-4 md:p-6">
        <div class="max-w-7xl mx-auto grid grid-cols-1 xl:grid-cols-12 gap-8">
            
            <div class="xl:col-span-5 bg-white p-6 rounded-xl shadow-lg h-fit">
                <h2 class="text-2xl font-bold mb-4 text-gray-800 border-b pb-2">Driver Details</h2>
                
                <div class="space-y-3">
                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label class="text-xs font-semibold text-gray-500 uppercase">1. Surname</label>
                            <input type="text" id="inSurname" value="ANDERSON" class="w-full border rounded p-2 text-sm uppercase" oninput="updateCard()">
                        </div>
                        <div>
                            <label class="text-xs font-semibold text-gray-500 uppercase">2. First Names</label>
                            <input type="text" id="inFirstname" value="ALEX" class="w-full border rounded p-2 text-sm uppercase" oninput="updateCard()">
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label class="text-xs font-semibold text-gray-500 uppercase">3. Date of Birth</label>
                            <input type="date" id="inDob" value="2005-12-31" class="w-full border rounded p-2 text-sm" oninput="updateCard()">
                        </div>
                        <div>
                            <label class="text-xs font-semibold text-gray-500 uppercase">Gender (For Code)</label>
                            <select id="inGender" class="w-full border rounded p-2 text-sm" onchange="updateCard()">
                                <option value="M">Male</option>
                                <option value="F">Female</option>
                            </select>
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-3">
                        <div>
                            <label class="text-xs font-semibold text-gray-500 uppercase">Country of Birth</label>
                            <input type="text" id="inCountry" value="UNITED KINGDOM" class="w-full border rounded p-2 text-sm uppercase" oninput="updateCard()">
                        </div>
                         <div>
                            <label class="text-xs font-semibold text-gray-500 uppercase">4a. Issue Date</label>
                            <input type="date" id="inIssue" value="2023-01-01" class="w-full border rounded p-2 text-sm" oninput="updateCard()">
                        </div>
                    </div>

                    <div>
                        <label class="text-xs font-semibold text-gray-500 uppercase">8. Address</label>
                        <textarea id="inAddress" rows="3" class="w-full border rounded p-2 text-sm uppercase" oninput="updateCard()">1 DOYCE STREET, SOUTHWARK, LONDON, SE1 1EU, UNITED KINGDOM</textarea>
                    </div>

                    <div class="grid grid-cols-2 gap-3">
                         <div>
                            <label class="text-xs font-semibold text-gray-500 uppercase">9. Categories & Other</label>
                            <input type="text" id="inCats" value="A1, A0, A9, B0, B1, 100012345" class="w-full border rounded p-2 text-sm" oninput="updateCard()">
                        </div>
                        <div>
                             <label class="text-xs font-semibold text-gray-500 uppercase">5. Driver No (Auto-Generated)</label>
                             <input type="text" id="outDriverNoInput" placeholder="Auto-generated" readonly class="w-full border rounded p-2 text-sm bg-gray-100 text-gray-500">
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-3 pt-2 border-t mt-2">
                        <div>
                            <label class="text-xs font-semibold text-gray-500 uppercase">Your Photo</label>
                            <input type="file" id="inputPhoto" accept="image/*" class="w-full text-xs border rounded p-1" onchange="loadImage(this, 'imgPhoto')">
                        </div>
                        <div>
                            <label class="text-xs font-semibold text-gray-500 uppercase">Your Signature</label>
                            <input type="file" id="inputSign" accept="image/*" class="w-full text-xs border rounded p-1" onchange="loadImage(this, 'imgSign')">
                        </div>
                    </div>

                    <button onclick="downloadCard()" class="w-full bg-purple-700 hover:bg-purple-800 text-white font-bold py-3 rounded-lg mt-4 transition shadow-md flex justify-center items-center gap-2">
                         <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                        Download Licence
                    </button>
                </div>
            </div>

            <div class="xl:col-span-7 flex flex-col items-center justify-start pt-6">
                <div class="flex justify-between w-full max-w-[520px] mb-2">
                    <h3 class="text-sm font-bold text-gray-500 uppercase tracking-wider">Live Preview</h3>
                    <span class="text-xs bg-indigo-100 text-indigo-800 px-2 py-0.5 rounded">International Style</span>
                </div>

                <div id="driveCard" class="uk-int-card">
                    <div class="uk-int-pattern"></div>
                    <div class="uk-int-wavy-left"></div>
                    <div class="uk-int-wavy-right"></div>
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/84/Government_Seal_of_Bangladesh.svg/1200px-Government_Seal_of_Bangladesh.svg.png" class="uk-logo-watermark">

                    <div class="absolute top-4 left-4 w-[85px] h-[55px] uk-header-box flex flex-col items-center justify-center rounded-md z-20 shadow-md">
                        <span class="text-2xl leading-none">UK</span>
                        <span class="text-[8px] tracking-widest leading-none">UNITED KINGDOM</span>
                    </div>

                    <div class="absolute top-4 left-[100px] right-4 z-20">
                        <h1 class="uk-header-text font-bold text-white uppercase mt-1 drop-shadow-sm">DRIVERS LICENSE</h1>
                        <span class="international-text">INTERNATIONAL</span>
                    </div>

                    <div class="absolute top-[80px] left-[100px] right-4 bottom-4 z-20 grid grid-cols-2 gap-y-0.5">
                        <div class="flex items-baseline col-span-2">
                            <span class="label-num">1.</span>
                            <span id="outSurname" class="field-val">ANDERSON</span>
                        </div>
                        <div class="flex items-baseline col-span-2">
                            <span class="label-num">2.</span>
                            <span id="outFirstname" class="field-val">ALEX</span>
                        </div>
                        <div class="flex items-baseline col-span-2">
                            <span class="label-num">3.</span>
                            <span id="outDob" class="field-val mr-2">31.12.2005</span>
                            <span id="outCountry" class="field-val small">UNITED KINGDOM</span>
                        </div>

                        <div class="flex items-baseline">
                            <span class="label-num">4a.</span>
                            <span id="outIssue" class="field-val">01.01.2023</span>
                        </div>
                        <div class="flex items-baseline">
                            <span class="label-num">4c.</span>
                            <span class="field-val small">UKID</span>
                        </div>
                        <div class="flex items-baseline">
                            <span class="label-num">4b.</span>
                            <span id="outExpiry" class="field-val">01.01.2033</span>
                        </div>
                        <div></div> <div class="flex items-baseline col-span-2 mt-0.5">
                            <span class="label-num">5.</span>
                            <span id="outDriverNo" class="field-val font-mono text-[14px] tracking-wide">ANDE0123456789</span>
                        </div>

                        <div class="relative col-span-2 h-10 mt-1">
                            <span class="label-num absolute top-0 left-0">7.</span>
                            <span id="outSignatureLine" class="field-val font-mono text-[12px] absolute top-0 left-[26px]">100012345-12345</span>
                            <div class="w-32 h-12 absolute top-[-5px] left-20">
                                <img id="imgSign" src="https://via.placeholder.com/150x50?text=Signature" class="w-full h-full object-contain sig-img">
                            </div>
                        </div>

                        <div class="flex items-start col-span-2 mt-1">
                            <span class="label-num mt-0.5">8.</span>
                            <span id="outAddress" class="field-val small leading-tight w-[280px]">
                                1 DOYCE STREET, SOUTHWARK,<br>LONDON, SE1 1EU,<br>UNITED KINGDOM
                            </span>
                        </div>

                        <div class="flex items-baseline col-span-2 mt-1">
                            <span class="label-num">9.</span>
                            <span id="outCats" class="field-val small">A1, A0, A9, B0, B1, 100012345</span>
                        </div>
                    </div>

                    <div class="absolute top-24 left-5 w-24 h-32 z-20">
                        <div class="w-full h-full bg-gray-200 overflow-hidden rounded-md relative border border-gray-300 shadow-lg">
                            <img id="imgPhoto" src="https://via.placeholder.com/150" class="w-full h-full object-cover">
                        </div>
                    </div>

                    <div class="absolute top-24 right-5 w-16 h-10 z-20 union-jack shadow-md"></div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-white border-t mt-8 py-6 text-center">
        <p class="text-gray-600">Â© 2025 UniCard Tools.</p>
        <p class="text-xs text-gray-400 mt-1">Generated for educational/preview use only.</p>
    </footer>

    <script>
        function updateCard() {
            // 1. Get Basic Values
            const surname = document.getElementById('inSurname').value.toUpperCase();
            const firstname = document.getElementById('inFirstname').value.toUpperCase();
            const dobRaw = document.getElementById('inDob').value;
            const issueRaw = document.getElementById('inIssue').value;
            const country = document.getElementById('inCountry').value.toUpperCase();
            const address = document.getElementById('inAddress').value.toUpperCase().replace(/\n/g, '<br>');
            const cats = document.getElementById('inCats').value;
            const gender = document.getElementById('inGender').value;

            // 2. Format Dates (YYYY-MM-DD -> DD.MM.YYYY)
            const formatDate = (dateStr) => {
                if(!dateStr) return '';
                const d = new Date(dateStr);
                return `${String(d.getDate()).padStart(2,'0')}.${String(d.getMonth()+1).padStart(2,'0')}.${d.getFullYear()}`;
            };

            const dobFormatted = formatDate(dobRaw);
            const issueFormatted = formatDate(issueRaw);
            
            // Calculate Expiry (Issue + 10 Years)
            let expiryFormatted = '';
            if(issueRaw) {
                const d = new Date(issueRaw);
                d.setFullYear(d.getFullYear() + 10);
                expiryFormatted = formatDate(d.toISOString().split('T')[0]); // Convert back to YYYY-MM-DD for formatDate
            }

            // 3. Map Text to Card
            document.getElementById('outSurname').innerText = surname;
            document.getElementById('outFirstname').innerText = firstname;
            document.getElementById('outDob').innerText = dobFormatted;
            document.getElementById('outCountry').innerText = country;
            document.getElementById('outIssue').innerText = issueFormatted;
            document.getElementById('outExpiry').innerText = expiryFormatted;
            document.getElementById('outAddress').innerHTML = address;
            document.getElementById('outCats').innerText = cats;
            document.getElementById('outSignatureLine').innerText = '100012345-12345'; // Placeholder for complex sig number

            // 4. Generate Driver Number (UK specific logic)
            const driverNo = generateUKDriverNumber(surname, firstname, dobRaw, gender);
            document.getElementById('outDriverNo').innerText = driverNo;
            document.getElementById('outDriverNoInput').value = driverNo;
        }

        // --- UK Driver Number Generation Logic (More realistic for visual) ---
        // Format: SSSSS D MYY DD II #AA (16 characters)
        // S = First 5 chars of Surname (padded with 9 if less)
        // D = Decade (3rd digit of year of birth, e.g., 1984 -> 8, 2005 -> 0)
        // M = Month of birth (01-12, +50 if female) - this is a simplification; real DVLA uses more complex hashing/digit swaps
        // Y = Last digit of year of birth (e.g., 1984 -> 4)
        // DD = Day of birth (01-31)
        // II = First initial of first name + first initial of middle name (or '9' if none, 'Z' if no middle)
        // # = Computer check digit (simplified)
        // AA = Licence issue number (usually 01-99)
        function generateUKDriverNumber(surname, firstname, dobStr, gender) {
            surname = surname.toUpperCase().replace(/[^A-Z]/g, '');
            firstname = firstname.toUpperCase().replace(/[^A-Z]/g, '');
            
            if (!surname || !dobStr || !firstname) return "XXXXX00000000000"; // Fallback

            // SSSSS (First 5 chars of surname, padded with 9)
            let sCode = surname.padEnd(5, '9').substring(0, 5);

            const d = new Date(dobStr);
            if (isNaN(d.getTime())) return "XXXXX00000000000";

            const yearFull = String(d.getFullYear());
            const month = d.getMonth() + 1;
            const day = d.getDate();

            // D (Decade digit: 3rd char of year)
            let decadeDigit = yearFull.charAt(2) || '0';

            // M (Month: 01-12, +50 if female - simplified)
            let monthCode = String(month).padStart(2, '0');
            if (gender === 'F') {
                // Real UK logic swaps month digits, we'll do a simple +50 for visual effect
                let mVal = parseInt(monthCode);
                mVal = mVal + 50;
                monthCode = String(mVal).padStart(2, '0');
            }

            // Y (Last digit of year)
            let yearLastDigit = yearFull.charAt(3) || '0';

            // DD (Day)
            let dayCode = String(day).padStart(2, '0');

            // II (Initials: First of Firstname, then first of Middle/9)
            let iCode = firstname.charAt(0);
            let middleName = ''; // Assuming no middle name for simplicity, can be extended
            iCode += (middleName ? middleName.charAt(0) : '9'); 
            iCode = iCode.padEnd(2, '9');

            // #AA (Check digit and issue number - randomized for visual)
            let checkDigit = String(Math.floor(Math.random() * 10)); // 0-9
            let issueNumber = String(Math.floor(Math.random() * 99) + 1).padStart(2, '0');

            // Combine into the 16-character format
            // SSSSS(D)(M1)(M2)(D1)(D2)(Y)(I1)(I2)(#)(A1)(A2)
            // Example: ANDER 0 12 31 0 5 A 9 1 23
            // Re-evaluating the image: ANDE0123456789
            // It seems the image has a simplified, likely fictional, 10-digit ID after the initial 4 letters.
            // Let's go with the image's example for `5. Driver No`
            let customDriverNo = `${surname.substring(0,4).padEnd(4, 'X')}${Math.floor(Math.random() * 10000000000).toString().padStart(10, '0')}`;
            return customDriverNo;
        }

        function loadImage(input, targetId) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    document.getElementById(targetId).src = e.target.result;
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        function downloadCard() {
            const element = document.getElementById("driveCard");
            html2canvas(element, {
                scale: 3,
                useCORS: true,
                backgroundColor: "#f0fdf4" // Match card background
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = 'UK_International_Drivers_License.png';
                link.href = canvas.toDataURL("image/png");
                link.click();
            });
        }

        // Init
        updateCard();
    </script>
</body>
</html>
